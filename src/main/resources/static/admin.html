<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-Store - –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/components/admin.css">
</head>
<body>
<!-- –•–µ–¥–µ—Ä -->
<header class="header">
    <nav class="navbar container">
        <div class="logo">
            E-Store Admin
        </div>
        <div class="nav-links">
            <a href="index.html">–°–∞–π—Ç</a>
            <a href="admin.html" class="active">–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</a>
            <a href="profile.html">–ü—Ä–æ—Ñ–∏–ª—å</a>
        </div>
    </nav>
</header>

<!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
<main class="admin-section">
    <div class="container">
        <div class="admin-header">
            <h1>–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h1>
            <p>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–æ–º, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –∑–∞–∫–∞–∑–∞–º–∏</p>
        </div>

        <!-- –ë—ã—Å—Ç—Ä—ã–µ –º–µ—Ç—Ä–∏–∫–∏ -->
        <div class="admin-stats">
            <div class="stat-card admin-stat">
                <div class="stat-icon">üë•</div>
                <div class="stat-info">
                    <h3 id="totalUsers">0</h3>
                    <p>–í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</p>
                </div>
            </div>
            <div class="stat-card admin-stat">
                <div class="stat-icon">üì¶</div>
                <div class="stat-info">
                    <h3 id="totalProducts">0</h3>
                    <p>–¢–æ–≤–∞—Ä–æ–≤ –≤ –º–∞–≥–∞–∑–∏–Ω–µ</p>
                </div>
            </div>
            <div class="stat-card admin-stat">
                <div class="stat-icon">üí∞</div>
                <div class="stat-info">
                    <h3 id="todayRevenue">0 BYN</h3>
                    <p>–í—ã—Ä—É—á–∫–∞ –∑–∞ —Å–µ–≥–æ–¥–Ω—è</p>
                </div>
            </div>
            <div class="stat-card admin-stat">
                <div class="stat-icon">üîÑ</div>
                <div class="stat-info">
                    <h3 id="pendingOrders">0</h3>
                    <p>–ó–∞–∫–∞–∑–æ–≤ –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ</p>
                </div>
            </div>
        </div>

        <!-- –¢–∞–±—ã –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ -->
        <div class="admin-tabs">
            <button class="admin-tab active" data-tab="products">–¢–æ–≤–∞—Ä—ã</button>
            <button class="admin-tab" data-tab="categories">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</button>
            <button class="admin-tab" data-tab="orders">–ó–∞–∫–∞–∑—ã</button>
            <button class="admin-tab" data-tab="users">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</button>
            <button class="admin-tab" data-tab="analytics">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</button>
        </div>

        <!-- –ö–æ–Ω—Ç–µ–Ω—Ç —Ç–∞–±–æ–≤ -->
        <div class="admin-content">
            <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏ -->
            <div id="productsTab" class="admin-tab-content active">
                <div class="admin-toolbar">
                    <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏</h2>
                    <button class="btn btn-primary" id="addProductBtn">+ –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</button>
                </div>
                <div id="productsTable" class="admin-table">
                    <p>–ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤...</p>
                </div>
            </div>

            <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ -->
            <div id="categoriesTab" class="admin-tab-content">
                <div class="admin-toolbar">
                    <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏</h2>
                    <button class="btn btn-primary" id="addCategoryBtn">+ –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é</button>
                </div>
                <div id="categoriesTable" class="admin-table">
                    <p>–ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π...</p>
                </div>
            </div>

            <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏ -->
            <div id="ordersTab" class="admin-tab-content">
                <div class="admin-toolbar">
                    <h2>–í—Å–µ –∑–∞–∫–∞–∑—ã</h2>
                    <div style="display: flex; gap: 1rem; align-items: center;">
                        <select id="orderStatusFilter" class="filter-select">
                            <option value="all">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
                            <option value="PENDING">–û–∂–∏–¥–∞–Ω–∏–µ</option>
                            <option value="CONFIRMED">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω</option>
                            <option value="SHIPPED">–û—Ç–ø—Ä–∞–≤–ª–µ–Ω</option>
                            <option value="DELIVERED">–î–æ—Å—Ç–∞–≤–ª–µ–Ω</option>
                            <option value="CANCELLED">–û—Ç–º–µ–Ω–µ–Ω</option>
                        </select>
                        <button class="btn btn-primary" id="refreshOrdersBtn" title="–û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</button>
                    </div>
                </div>
                <div id="ordersTable" class="admin-table">
                    <p>–ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–∫–∞–∑–æ–≤...</p>
                </div>
            </div>

            <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ -->
            <div id="usersTab" class="admin-tab-content">
                <div class="admin-toolbar">
                    <h2>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</h2>
                    <div style="display: flex; gap: 1rem; align-items: center;">
                        <input type="text" id="userSearch" placeholder="–ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π..." class="search-input">
                        <button class="btn btn-primary" id="refreshUsersBtn" title="–û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</button>
                    </div>
                </div>
                <div id="usersTable" class="admin-table">
                    <p>–ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π...</p>
                </div>
            </div>

            <!-- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ -->
            <div id="analyticsTab" class="admin-tab-content">
                <h2>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–∞–≥–∞–∑–∏–Ω–∞</h2>
                <div class="analytics-grid">
                    <div class="analytics-card">
                        <h3>üìà –ü—Ä–æ–¥–∞–∂–∏ –ø–æ –º–µ—Å—è—Ü–∞–º</h3>
                        <div id="salesChart" class="chart-placeholder">
                            <p>–ì—Ä–∞—Ñ–∏–∫ –ø—Ä–æ–¥–∞–∂</p>
                        </div>
                    </div>
                    <div class="analytics-card">
                        <h3>üî• –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã</h3>
                        <div id="popularProducts">
                            <p>–ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤...</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<!-- –§—É—Ç–µ—Ä -->
<footer class="footer">
    <div class="container">
        <div class="footer-content">
            <div class="footer-section">
                <h3>E-Store Admin</h3>
                <p>–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–∞–≥–∞–∑–∏–Ω–æ–º</p>
            </div>
            <div class="footer-section">
                <h3>–°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã</h3>
                <p id="systemStatus">üü¢ –í—Å–µ —Å–∏—Å—Ç–µ–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç</p>
            </div>
        </div>
    </div>
</footer>

<!-- JavaScript -->
<script src="js/components/admin.service.js"></script>
<script src="js/components/admin.component.js"></script>
<script src="js/utils/app.js"></script>
<script>
    // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–æ–≤–∞—Ä—ã –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
    document.addEventListener('DOMContentLoaded', () => {
        const shouldRefresh = sessionStorage.getItem('refreshProducts');
        if (shouldRefresh) {
            sessionStorage.removeItem('refreshProducts');
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–æ–≤–∞—Ä—ã –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ –µ—Å–ª–∏ –æ—Ç–∫—Ä—ã—Ç–∞ –≤–∫–ª–∞–¥–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤
            if (typeof AdminComponent !== 'undefined') {
                setTimeout(() => {
                    AdminComponent.loadProducts(true);
                }, 500);
            }
        }
    });
</script>
</body>
</html>