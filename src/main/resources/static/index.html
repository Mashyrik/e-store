<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-Store - –ú–∞–≥–∞–∑–∏–Ω —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∏</title>
    
    <!-- –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ -->
    <link rel="stylesheet" href="css/style.css">
    
    <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ -->
    <style>
        /* –í—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–µ–±–∞–≥ —Å—Ç–∏–ª–∏ */
        .debug {
            border: 1px solid red;
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –∫–æ—Ä–∑–∏–Ω—ã */
        @keyframes cartBounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }
        
        .cart-added {
            animation: cartBounce 0.3s ease;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="navbar container">
            <div class="logo">
                <span class="logo-icon">üè™</span>
                <span class="logo-text">E-Store</span>
            </div>
            
            <button class="menu-toggle" id="menuToggle" aria-label="–û—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é">
                <span class="menu-icon">‚ò∞</span>
            </button>
            
            <div class="nav-links" id="navLinks">
                <a href="#home" class="nav-link">–ì–ª–∞–≤–Ω–∞—è</a>
                <a href="#products" class="nav-link">–¢–æ–≤–∞—Ä—ã</a>
                <a href="#categories" class="nav-link">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</a>
                <a href="cart.html" class="nav-link" id="cartLink">
                    <span class="cart-text">–ö–æ—Ä–∑–∏–Ω–∞</span>
                    <span class="cart-count" id="cartCount">0</span>
                </a>
                <a href="login.html" class="nav-link" id="loginLink">–í–æ–π—Ç–∏</a>
                <button id="logoutBtn" class="nav-link logout-btn" style="display:none;">
                    –í—ã–π—Ç–∏
                </button>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main>
        <!-- Hero Section -->
        <section class="hero" id="home">
            <div class="container">
                <div class="hero-content">
                    <h1 class="hero-title">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ E-Store</h1>
                    <p class="hero-description">
                        –õ—É—á—à–∏–π –≤—ã–±–æ—Ä —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∏ –≤ –ë–µ–ª–∞—Ä—É—Å–∏. –ì–∞—Ä–∞–Ω—Ç–∏—è –∫–∞—á–µ—Å—Ç–≤–∞, 
                        –±—ã—Å—Ç—Ä–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞, –æ—Ç–ª–∏—á–Ω—ã–µ —Ü–µ–Ω—ã –≤ –±–µ–ª–æ—Ä—É—Å—Å–∫–∏—Ö —Ä—É–±–ª—è—Ö.
                    </p>
                    <div class="hero-actions">
                        <a href="#products" class="btn btn-primary cta-button">
                            –°–º–æ—Ç—Ä–µ—Ç—å —Ç–æ–≤–∞—Ä—ã
                        </a>
                        <a href="#categories" class="btn btn-outline">
                            –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Features -->
        <section class="features">
            <div class="container">
                <h2 class="section-title">–ü–æ—á–µ–º—É –≤—ã–±–∏—Ä–∞—é—Ç –Ω–∞—Å</h2>
                <div class="features-grid" id="features-container">
                    <!-- –ë—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–æ JavaScript -->
                </div>
            </div>
        </section>

        <!-- Categories Preview -->
        <section class="categories" id="categories">
            <div class="container">
                <h2 class="section-title">–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</h2>
                <div class="categories-grid" id="categories-container">
                    <div class="loading-message">–ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π...</div>
                </div>
            </div>
        </section>

        <!-- Products Preview -->
        <section class="products-preview" id="products">
            <div class="container">
                <h2 class="section-title">–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã</h2>
                <div class="products-grid" id="products-container">
                    <div class="loading-message">–ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤...</div>
                </div>
                <div class="view-more">
                    <a href="products.html" class="btn btn-primary">–í—Å–µ —Ç–æ–≤–∞—Ä—ã</a>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3 class="footer-title">E-Store</h3>
                    <p class="footer-text">–í–∞—à –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä—Ç–Ω–µ—Ä –≤ –º–∏—Ä–µ —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∏</p>
                </div>
                <div class="footer-section">
                    <h3 class="footer-title">–ö–æ–Ω—Ç–∞–∫—Ç—ã</h3>
                    <p class="footer-text">
                        <strong>–¢–µ–ª–µ—Ñ–æ–Ω:</strong> +375 (29) 123-45-67
                    </p>
                    <p class="footer-text">
                        <strong>Email:</strong> info@estore.by
                    </p>
                    <p class="footer-text">
                        <strong>–ê–¥—Ä–µ—Å:</strong> –≥. –ú–∏–Ω—Å–∫
                    </p>
                </div>
                <div class="footer-section">
                    <h3 class="footer-title">–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã</h3>
                    <p class="footer-text">–ü–Ω-–ü—Ç: 9:00 - 21:00</p>
                    <p class="footer-text">–°–±-–í—Å: 10:00 - 20:00</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p class="copyright">&copy; 2024 E-Store. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <!-- –°–Ω–∞—á–∞–ª–∞ —É—Ç–∏–ª–∏—Ç—ã –∏ —Å–µ—Ä–≤–∏—Å—ã -->
    <script src="js/services/api.service.js"></script>
    <script src="js/services/auth.service.js"></script>
    <script src="js/services/product.service.js"></script>
    <script src="js/services/category.service.js"></script>
    <script src="js/services/cart.service.js"></script>
    
    <!-- –ó–∞—Ç–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π app.js -->
    <script src="js/utils/app.js"></script>
    
    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            console.log('–°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞');
            
            // –ó–∞–ø–æ–ª–Ω—è–µ–º –±–ª–æ–∫ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤
            const featuresContainer = document.getElementById('features-container');
            if (featuresContainer) {
                featuresContainer.innerHTML = `
                    <div class="feature-card">
                        <div class="feature-icon">üöö</div>
                        <h3>–ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞</h3>
                        <p>–î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –≤—Å–µ–π –ë–µ–ª–∞—Ä—É—Å–∏ –ø—Ä–∏ –∑–∞–∫–∞–∑–µ –æ—Ç 100 —Ä—É–±.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üõ°Ô∏è</div>
                        <h3>–ì–∞—Ä–∞–Ω—Ç–∏—è 2 –≥–æ–¥–∞</h3>
                        <p>–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –≥–∞—Ä–∞–Ω—Ç–∏—è –Ω–∞ –≤—Å–µ —Ç–æ–≤–∞—Ä—ã –æ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üí≥</div>
                        <h3>–£–¥–æ–±–Ω–∞—è –æ–ø–ª–∞—Ç–∞</h3>
                        <p>–ù–∞–ª–∏—á–Ω—ã–µ, –∫–∞—Ä—Ç—ã, —Ä–∞—Å—Å—Ä–æ—á–∫–∞, –æ–Ω–ª–∞–π–Ω-–ø–ª–∞—Ç–µ–∂–∏</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üìû</div>
                        <h3>–ü–æ–¥–¥–µ—Ä–∂–∫–∞ 24/7</h3>
                        <p>–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è</p>
                    </div>
                `;
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
            const token = localStorage.getItem('token');
            console.log('–¢–æ–∫–µ–Ω –≤ localStorage:', token ? '–µ—Å—Ç—å' : '–Ω–µ—Ç');
            
            if (token) {
                console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω');
                // –û–±–Ω–æ–≤–ª—è–µ–º UI
                if (typeof AuthService !== 'undefined') {
                    AuthService.updateAuthUI();
                }
            }
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –º–µ–Ω—é
            const menuToggle = document.getElementById('menuToggle');
            const navLinks = document.getElementById('navLinks');
            
            if (menuToggle && navLinks) {
                menuToggle.addEventListener('click', function() {
                    navLinks.classList.toggle('active');
                    menuToggle.classList.toggle('active');
                });
                
                // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–µ–Ω—é –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Å—Å—ã–ª–∫—É
                document.querySelectorAll('.nav-link').forEach(link => {
                    link.addEventListener('click', () => {
                        navLinks.classList.remove('active');
                        menuToggle.classList.remove('active');
                    });
                });
            }
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –≤—ã—Ö–æ–¥–∞
            const logoutBtn = document.getElementById('logoutBtn');
            if (logoutBtn) {
                logoutBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    if (typeof AuthService !== 'undefined') {
                        AuthService.logout();
                    } else {
                        // –ü—Ä–æ—Å—Ç–æ–π –≤—ã—Ö–æ–¥
                        localStorage.removeItem('token');
                        localStorage.removeItem('user');
                        window.location.href = 'login.html';
                    }
                });
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–≥—Ä—É–∑–∫—É CSS
            console.log('–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∏–ª–µ–π...');
            const styleTest = document.createElement('div');
            styleTest.style.cssText = 'position: fixed; top: 0; left: 0; width: 100px; height: 100px; background: red; z-index: 9999;';
            styleTest.textContent = 'CSS —Ç–µ—Å—Ç';
            document.body.appendChild(styleTest);
            
            setTimeout(() => {
                document.body.removeChild(styleTest);
                console.log('–¢–µ—Å—Ç–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç —É–¥–∞–ª–µ–Ω');
            }, 1000);
        });
    </script>
</body>
</html>